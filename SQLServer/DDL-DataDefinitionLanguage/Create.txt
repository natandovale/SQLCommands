CREATE DATABASE [Cursos]

CREATE TABLE <Nome da table>(
    [<Nome do campo 1><Tipo do campo N><Se é ou não Nulo Campo1>,
    (...)
    [<Nome do campo N><Tipo do campo N><Se é ou não Nulo CampoN>,
    CONSTRAINT <Nome da PK> PRIMARY KEY CLUSTERED (<Campos da PK separados por vírgula)
)

CREATE DATABASE<NOME DO BANCO DE DADOS>
ON(NAME = <NOME DO ARQUIVO DE DADOS DO BANCO DE DADOS>,
   FILENAME = <LOCALIZACO DO ARQUIVO DE DADOS>,
   SIZE = <TAMANHO INICIAL>,
   MAXSIZE = <TAMANHO MÁXIMO>,
   FILEGROWTH = <TAXA DE CRESCIMENTO> )
LOG ON( NAME = <NOME DO ARQUIVO DE LOGS>,
        FILENAME = <LOCALIZACAO DO ARQUIVO DE LOGS>,
        SIZE = <TAMANHO INICIAL>,
        MAXSIZE = <TAMANHO MÁXIMO>,
        FILEGROWTH = <TAXA DE CRESCIMENTO>)

USE [Cursos]

CREATE TABLE [Aluno](
    [Id] INT NOT NULl IDENTITY(1,1),
    [Nome] NVARCHAR(80) NOT NULL,
    [Email] NVARCHAR(180) NOT NULL,	
	[Nascimento] DATETIME NULL,
    [Active] BIT DEFAULT(0),

    CONSTRAINT [PK_Aluno] PRIMARY KEY([Id]),
    CONSTRAINT [UQ_Aluno_Email] UNIQUE([Email]),
)
GO

DROP TABLE [Curso]
CREATE TABLE [Curso](
    [Id] INT NOT NULl IDENTITY(1,1),
    [Nome] NVARCHAR(80) NOT NULL,
    [CategoriaId] INT NOT NULL,

    CONSTRAINT [PK_Curso] PRIMARY KEY([Id]),
    CONSTRAINT [FK_Curso_Categoria] FOREIGN KEY([CategoriaId]) 
        REFERENCES [Categoria]([Id])
)
GO

CREATE TABLE [Categoria](
    [Id] INT NOT NULL IDENTITY(1,1),
    [Nome] NVARCHAR(80) NOT NULL

    CONSTRAINT [PK_Categoria] PRIMARY KEY([Id]),
)
GO

CREATE TABLE [ProgressoCurso](
    [AlunoId] INT NOT NULL,
    [CursoId] NVARCHAR(80) NOT NULL,
    [Progresso] INT NOT NULL,
    [UltimaAtualizacao] DATETIME NOT NULL DEFAULT(GETDATE()),

    CONSTRAINT [PK_ProgressoCurso] PRIMARY KEY([AlunoId],[CursoId]),

)
GO



